<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lovense Mini-games</title>

    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Bootstrap 5 -->
    <link href="https://vinorodrigues.github.io/bootstrap-dark-5/dist/css/bootstrap-night.css" rel="stylesheet" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="./swiped-events.min.js"></script>
    <script src="./simplepeer.min.js"></script>

    <script src="./lan-mod.js"></script>

    <link rel="stylesheet" href="site.css">
</head>
<body>

  <div class="container">
      <h1>Lovense Arcade</h1>

      <ul class="nav nav-tabs" id="tab-nav" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="setup-tab" data-bs-toggle="tab"
              data-bs-target="#setup" type="button" role="tab" aria-controls="setup" aria-selected="true">
            Setup
          </button>
        </li>

        <li class="nav-item" role="presentation">
          <button class="nav-link" id="tetris-tab" data-bs-toggle="tab"
              data-bs-target="#tetris" type="button" role="tab" aria-controls="tetris" aria-selected="false">
            Tetris
          </button>
        </li>

        <li class="nav-item" role="presentation">
          <button class="nav-link" id="valentines-tab" data-bs-toggle="tab"
              data-bs-target="#valentines" type="button" role="tab" aria-controls="valentines" aria-selected="false">
            Valentines Connect
          </button>
        </li>

        <li class="nav-item" role="presentation">
          <button class="nav-link" id="about-tab" data-bs-toggle="tab"
              data-bs-target="#about" type="button" role="tab" aria-controls="about" aria-selected="false">
            About
          </button>
        </li>
      </ul>

      <div class="tab-content" id="tab-nav-contents">

        <div class="tab-pane fade show active" id="setup" role="tabpanel" aria-labelledby="setup-tab">
          <h3>Setup and Lovense Connection</h3>


          <p id="setup-loading">Please Wait while we do some loading...</p>


        </div>


        <div class="tab-pane fade" id="tetris" role="tabpanel" aria-labelledby="tetris-tab"
            data-swipe-threshold="100"
            data-swipe-timeout="250">
          <h3>Tetris</h3>
          <p>Gain Levels (Every 10 rows), the more you complete the more powerful the Vibrations, and if you fail. BE PREPARED.</p>
          <div class="row">
            <div class="col-md-4">
              <em><code>Left/Right</code> Arrow Keys / Swipes to move Item.</em>
            </div>
            <div class="col-md-4">
              <em><code>Up</code> Arrow Key / `Tap` to rotate Item.</em>
            </div>
            <div class="col-md-4">
              <em><code>Space</code> Key / `Swipe Down` down to Drop.</em>
            </div>
            <div class="col-md-4">
              <em>PC Only: <code>Down</code> Arrow Key to Lower Item.</em>
            </div>
            <div class="col-md-4">
              <em><code>C</code> Key to Hold Item.</em>
            </div>
          </div>
          <!-- input with a label -->
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="tetris-intense-mode">
            <label class="form-check-label" for="tetris-intense-mode">Enable INTENSE Mode (Will constantly Vibrate based upon the Current Level, so it get's harder the further you advance ;) )</label>
          </div>

          <div class="canvas-container">
            <canvas scrolling="no" width="300" height="600" id="canvas-tetris" style="border: 1px solid black;"></canvas>

            <br />
            <label>Level: <span id="tetris-level">1</span></label>

            <button class="btn btn-success" id="tetris-start">Start</button>
            <button class="btn btn-danger" id="tetris-mobilefix">Fullscreen?</button>
          </div>

        </div>

        <!-- valentines -->
        <div class="tab-pane fade" id="valentines" role="tabpan" aria-labelledby="valentines-tab">
          <h3>Valentines Connect</h3>
          <p>Connect the hearts to make a match, the more matches you make the more powerful the vibrations.</p>

          <div id="valentines-host-client" class="row">
            <div class="col-sm-6">
              <button class="btn btn-success" style="width:100%" id="valentines-host">Host</button>
            </div>
            <div class="col-sm-6">
              <button class="btn btn-success" style="width:100%" id="valentines-client">Client</button>
            </div>
          </div>

          <br>

          <div id="valentines-host-instructions" style="display:none">
            <h4>You are the Host!</h4>

            <p style="white-space: pre-line;">
              1. Share your Connect Code with your partner.
              2. Wait for them to share their Connect Code with you.
              3. Put their Connect Code in the Peer's Connect Code box.
              4. Click Submit.
              5. Enjoy!
            </p>
          </div>

          <div id="valentines-client-instructions" style="display:none">
            <h4>You are the Client!</h4>

            <p style="white-space: pre-line;">
              1. Wait for your partner to share their Connect Code with you.
              2. Put their Connect Code in the Peer's Connect Code box.
              3. Click Submit.
              4. You will be given a Connect Code, share this with your partner.
              5. Wait for them to finish the same thing.
              6. Enjoy!
            </p>
          </div>

          <div id="valentines-connect-container" class="row" style="display:none;">
            <div class="col-md-6">
              <label for="valentines-yourconnectcode">Your Connect Code</label>
              <input type="text" id="valentines-yourconnectcode" readonly />
              <a href="#" id="valentines-copyconnectcode">Copy</a>
            </div>

            <div class="col-md-6">
              <label for="valentines-peercode">Peer's Connect Code</label>
              <input type="text" id="valentines-peercode" />
              <a href="#" id="valentines-submitpeercode">Submit</a>
            </div>
          </div>

          <!-- ========================================================================================================================== -->

          <div id="valentines-main" style="display:none">
            <div class="chat">
              <div class="chat-title">
                <h1>Partner</h1>
                <h2>IS LOVENSE CONNECTED INFO HERE</h2>
                <figure class="avatar">
                  <img src="https://freesvg.org/img/abstract-user-flat-4.png" />
                </figure>
              </div>
              <div class="messages">
                <div class="messages-content"></div>
              </div>
              <div class="message-box">
                <textarea type="text" class="message-input" placeholder="Type message..."></textarea>
                <button type="submit" class="message-submit">Send</button>
              </div>
            </div>

            <!-- Have some tools for Vibrations -->
            <div class="row">
              <div class="col-md-4">
                <button class="btn btn-success" id="valentines-vibrate-all">Vibrate All toys</button>
              </div>

              <div class="col-md-4">
                <button class="btn btn-success" id="valentines-vibrate-pattern-lastmessages">Create Pattern from Last Message</button>
              </div>
            </div>

          </div> <!-- valentines-main -->
        </div>


        <div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="about-tab">
          <h3>About</h3>
          <p>This is a simple arcade game that I made for the Lovense Dev Jam (18th of June, 2022).</p>
          <p>The game is a tetris clone, but with a few extra features ;).</p>
          <p>Please check out my <a href="https://github.com/lat3xkitty">Github</a> for other Kinky projects like this</p>
          <p>Or my <a href="https://lat3xkitty.github.io/">Website</a> for more about me and the stuff I do.</p>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JS -->

    <script src="global.js"></script>

    <script src="connection.js"></script>
    <script src="tetris.js"></script>
    <script src="valentinesday.js"></script>


    <style>html, body { overscroll-behavior-y: contain; }</style>
</body>
</html>